services:
  mlflow-server:
    image: ghcr.io/mlflow/mlflow
    restart: unless-stopped
    ports:
      - "5000:5000"
    environment:
      - MLFLOW_TRACKING_URI=http://0.0.0.0:5000
    volumes:
      - mlflow-artifacts:/mlflow/artifacts    # ‚Üê Named volume
      - mlflow-data:/mlflow
    command: [
      "mlflow", "server",
      "--host", "0.0.0.0",
      "--port", "5000",
      "--backend-store-uri", "sqlite:////mlflow/mlflow.db",
      "--default-artifact-root", "/mlflow/artifacts",
      "--serve-artifacts"
    ]
    
volumes:
  mlflow-artifacts:
  mlflow-data:
